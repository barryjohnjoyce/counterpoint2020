{% extends "base.html" %}

{% load thread_extras %}
{% block content %}
    {% load staticfiles %}


    <!-- Page Content -->
    <div class="container">

        <!-- Page Heading/Breadcrumbs -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Forum
                    <small>Subjects</small>
                </h1>
                <ol class="breadcrumb">
                    <li><a href="{% url 'index' %}">Home</a>
                    </li>
                    <li class="active">Forum</li>
                </ol>
            </div>
        </div>
        <!-- /.row -->

        <!-- Content Row -->
        <div class="row">
            <div class="col-lg-12">

                {% load bootstrap_tags %}
                {% for subject in subjects %}

                    <section class="subject">
                        <h2><a class="colourblack" href="{% url 'threads' subject.id %}">{{ subject.name }}</a></h2>
                        <p>
                            <a class="colourblack" href="{% url 'threads' subject.id %}">
                                {% autoescape off %}{{ subject.description }}{% endautoescape %}
                            </a>
                        </p>
                        <table>
                            <tr>
                                <th>THREADS |</th>
                                <th>POSTS</th>
                            </tr>
                            <tr>
                                <td>{{ subject.threads.count }}</td>
                                <td>{{ subject|get_total_subject_posts }}</td>
                            </tr>
                        </table>
                    </section>
                    <hr>
                {% endfor %}


            </div>
        </div>
        <!-- /.row -->

    </div>
    <!-- /.container -->


{% endblock %}